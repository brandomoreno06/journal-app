
<div class="container-fluid d-flex flex-column flex-md-row justify-content-md-around pt-4">
  <div class= "col col-md-3 mb-3" style= "background-color: lightgray">
      <h2>Tasks today</h2>
      <% if @tasks_today.any? %>
        <ul class="list-group">
          <% @tasks_today.each do |task| %>
            <li class="list-group-item"><%= task.name %></li>
          <% end %>
        </ul>
      <% else %>
        <ul class="list-group">
            <% 5.times do %>
              <li class="list-group-item text-muted">No task for today</li>
            <% end %>
        </ul>
      <% end %>
  </div>
  

  <div class="col col-md-7">
    <div class= "container-fluid" style= "background-color: lightblue" >
      <h2>Tasks per category...</h2>
      
      <div class="row d-flex justify-content-around">
        <% @categories.each do |category| %>
          <div class="card col-sm-6 col-md-6 col-xl-4 card-equal-height">
            <div class="card-body">
              <h5 class="card-title"><%= category.name %></h5>
              <div>
                <% category.tasks.each do |task| %>
                  <div class="d-flex justify-content-between mb-1">
                    <p class="card-text mb-0"><%= task.name %></p>
                    <p class="card-text mb-0"><%= task.due_date %></p>
                  </div>
                <% end %>
                  <%= link_to new_category_task_path(category) do %>
                    New task
                    <i class="bi bi-plus-circle"></i>
                  <% end %>
              </div>

              <%= render 'shared/modify_category', category: category %>
            </div>
          </div>
        <% end %>

        
        <div class="card col-sm-6 col-md-6 col-xl-4 card-equal-height">
          <div class="card-body d-flex justify-content-center align-items-center">
            <%= link_to new_category_path do %>
              <% if @categories.length == 0 %>
                <h1>Create your first category</h1>
              <% end %>
              <h1><i class="bi bi-plus-circle"></i></h1>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    
    
    <div class= "container-fluid mt-3" style= "background-color: lightgreen">
      <h2>Upcoming Tasks</h2>

      <ul class="list-group">
        <% @tasks_upcoming.each do |task| %>
          <li class="list-group-item p-3 d-flex justify-content-between align-items-center">
          <div class="col col-8">
            <h4 class="mb-0"><%= task.name %></h4>
            <p class="mb-0"><%= task.due_date %></p>
          </div>
          <%= render "/shared/modify_task", task: task %>
        </li>
        <% end %>
      </ul>
    </div>

  </div>
</div>
